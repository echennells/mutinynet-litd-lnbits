# Tor configuration for Lightning Terminal

# SOCKS proxy - listen on all interfaces (required for Docker container communication)
# Security: Docker network isolation + SocksPolicy below restricts access
SocksPort 0.0.0.0:9050

# Control port for LND (with authentication)
# Security: Docker network isolation + Cookie authentication required
ControlPort 0.0.0.0:9051
CookieAuthentication 1

# Allow connections from Docker network
SocksPolicy accept 172.16.0.0/12
SocksPolicy accept 10.0.0.0/8
SocksPolicy accept 192.168.0.0/16
SocksPolicy reject *

# Performance tuning
AvoidDiskWrites 1
DisableDebuggerAttachment 0

# Hidden services will be created dynamically by LND via Tor control protocol
# This avoids the chicken-and-egg problem of referencing containers that don't exist yet

# Logging
Log notice stdout

# Data directory
DataDirectory /home/tor/.tor